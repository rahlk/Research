# SEER: Heterogeneous Defect Prediction using *Causal Inference Learning*

#### *Causal Inference Learning*
![seer](https://cloud.githubusercontent.com/assets/1433964/19671976/ce655450-9a40-11e6-9525-56a2a271547b.jpg)

#### Methodology
  
Key challenge is to pick the right metrics from source that match the target. 
      
      - SEER hypothesizes that the best source metrics are the ones that the highest (most causal) relationship with a target metric.
      - In other words, we can assume (Target_Metrics -> Target_defects). Therefore, we can assume atleast empirically that (Source_metric -> Target_Metric -> Target_defects). *Note: -> denotes causes*
  
  1. For every target metric, we run a "Causal Inference Learner" to a source metric that has the highest causal relationship. This leads to three subcases:
 
    a. We find no source metric. In this case, ignore the metric from the target set.
    b. We find multiple matches. In this case, pick the highest.
    c. We find reverse relations, i.e., Target Metric -> Source Metric. Again, we're not interested, so ignore.
 
  2. Ensure only metric pairs that have strong uni-directional causal relations are chosen in both target and source. For example, between Apache Poi (20 metrics) and JDT (66 metrics) we found 14 with very strong causal relations. We use only those 14 to build a model.
 
## Results

```

#### Target Community: AEEEM | Source Community: Apache
##### Target Project: JDT
rank ,         name ,    med   ,  iqr
----------------------------------------------------
   1 ,          poi ,    0.42  ,  0.13 (         ---*  |              ), 0.32,  0.43,  0.45
   1 ,          ant ,    0.43  ,  0.15 (          --*  |              ), 0.33,  0.43,  0.48
   1 ,        jedit ,    0.46  ,  0.12 (           ---*|              ), 0.37,  0.47,  0.49
   1 ,          ivy ,    0.46  ,  0.16 (          ----*|              ), 0.36,  0.48,  0.52
   1 ,        log4j ,    0.50  ,  0.08 (             --*              ), 0.45,  0.50,  0.53
   1 ,       lucene ,    0.51  ,  0.13 (            ---*              ), 0.41,  0.53,  0.54
   2 ,        camel ,    0.52  ,  0.12 (              -*              ), 0.48,  0.52,  0.61
   2 ,     velocity ,    0.55  ,  0.01 (               |*             ), 0.54,  0.55,  0.55
   2 ,       xerces ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
   2 ,        xalan ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
```
##### Target Project: PDE
```

rank ,         name ,    med   ,  iqr
----------------------------------------------------
   1 ,        jedit ,    0.43  ,  0.14 (           --* |              ), 0.37,  0.44,  0.50
   1 ,          poi ,    0.44  ,  0.12 (           ---*|              ), 0.37,  0.47,  0.50
   1 ,          ant ,    0.47  ,  0.12 (          ----*|              ), 0.36,  0.47,  0.48
   1 ,          ivy ,    0.47  ,  0.22 (          -----*              ), 0.34,  0.50,  0.56
   1 ,        log4j ,    0.48  ,  0.16 (           ----*              ), 0.38,  0.53,  0.54
   1 ,        camel ,    0.50  ,  0.11 (            ---*              ), 0.42,  0.51,  0.53
   2 ,       lucene ,    0.52  ,  0.04 (              -*              ), 0.49,  0.53,  0.54
   3 ,     velocity ,    0.54  ,  0.01 (               |*             ), 0.54,  0.55,  0.55
   3 ,       xerces ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
   3 ,        xalan ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
```
##### Target Project: EQ
```

rank ,         name ,    med   ,  iqr
----------------------------------------------------
   1 ,          poi ,    0.29  ,  0.15 (       -*      |              ), 0.26,  0.30,  0.41
   1 ,        jedit ,    0.31  ,  0.07 (        -*     |              ), 0.30,  0.31,  0.37
   1 ,          ivy ,    0.32  ,  0.15 (        --*    |              ), 0.27,  0.35,  0.42
   2 ,        camel ,    0.37  ,  0.16 (          -*   |              ), 0.34,  0.39,  0.51
   2 ,          ant ,    0.41  ,  0.18 (         ---*  |              ), 0.31,  0.42,  0.49
   2 ,       lucene ,    0.43  ,  0.17 (         ----* |              ), 0.33,  0.44,  0.49
   3 ,        log4j ,    0.52  ,  0.09 (             --*              ), 0.46,  0.53,  0.55
   3 ,       xerces ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
   3 ,        xalan ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
   3 ,     velocity ,    0.55  ,  0.01 (               |*             ), 0.54,  0.55,  0.55
```
##### Target Project: LC
```

rank ,         name ,    med   ,  iqr
----------------------------------------------------
   1 ,          poi ,    0.37  ,  0.04 (          -*   |              ), 0.37,  0.37,  0.41
   1 ,          ivy ,    0.41  ,  0.07 (          --*  |              ), 0.36,  0.41,  0.43
   1 ,          ant ,    0.44  ,  0.16 (          ---* |              ), 0.34,  0.46,  0.50
   1 ,        camel ,    0.48  ,  0.15 (           ----*              ), 0.40,  0.52,  0.55
   1 ,        jedit ,    0.48  ,  0.17 (           ---*|              ), 0.38,  0.49,  0.55
   2 ,        log4j ,    0.53  ,  0.01 (               *              ), 0.51,  0.53,  0.53
   2 ,       lucene ,    0.53  ,  0.05 (              -|*             ), 0.49,  0.54,  0.55
   2 ,     velocity ,    0.55  ,  0.01 (               |*             ), 0.54,  0.55,  0.55
   2 ,       xerces ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
   2 ,        xalan ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
```
##### Target Project: ML
```

rank ,         name ,    med   ,  iqr
----------------------------------------------------
   1 ,          poi ,    0.45  ,  0.20 (           --* |              ), 0.37,  0.45,  0.58
   1 ,          ant ,    0.45  ,  0.07 (            -* |              ), 0.42,  0.46,  0.49
   1 ,        jedit ,    0.47  ,  0.10 (             -*|              ), 0.44,  0.48,  0.54
   1 ,          ivy ,    0.48  ,  0.16 (             -*|              ), 0.45,  0.48,  0.62
   1 ,       lucene ,    0.48  ,  0.03 (             -*|              ), 0.47,  0.49,  0.49
   1 ,        log4j ,    0.50  ,  0.09 (             --*              ), 0.44,  0.52,  0.54
   2 ,        camel ,    0.53  ,  0.08 (             --*              ), 0.46,  0.53,  0.55
   2 ,     velocity ,    0.55  ,  0.01 (               |*             ), 0.53,  0.55,  0.55
   2 ,       xerces ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
   2 ,        xalan ,    0.55  ,  0.00 (               |*             ), 0.55,  0.55,  0.55
```
